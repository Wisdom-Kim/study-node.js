webpackJsonp([8],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("7+uW"),a={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"notosanskr",attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var o,s=t("VU/8")({components:{}},a,!1,function(e){t("n7Ui")},null,null).exports,c=t("/ocq"),u=t("Xxa5"),i=t.n(u),p=t("exGp"),m=t.n(p),l=t("mtWM"),f=t.n(l),h=t("NYxO"),d=this,v=(o=m()(i.a.mark(function e(n,t,r,a){var o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o={Authorization:a?"jwt "+a:null,"Content-Type":"post"===n&&"/feeds/"===t?"multipart/form-data":"application/json"},s=""+"https://honsuri-backend.herokuapp.com"+t,"get"!==n){e.next=7;break}return e.abrupt("return",f.a[n](s,{headers:o}));case 7:return e.abrupt("return",f.a[n](s,r,{headers:o}));case 8:case"end":return e.stop()}},e,d)})),function(e,n,t,r){return o.apply(this,arguments)}),k=function(e){return v("get","/post",null,e)},E=function(e,n){return v("post","/post",e,n)},w=function(e,n){return v("post","/post/like/"+e,null,n)},S=function(e,n,t){return v("post","/post/"+t+"/comment",e,n)},g=function(e){return v("post","/account/login",e)},x=function(e){return v("post","/account/register",e)},b=function(e){return v("get","/mypage",null,e)},T=function(e,n){return v("patch","/mypage",e,n)},_=function(e,n){return v("delete","/mypage",e,n)},P=function(e){return v("get","/mypage/my-post",null,e)},O=function(e,n){return v("patch","/mypage/password",e,n)},I=function(e){return v("post","/account/email-find",e)};r.a.use(h.a);var M=new h.a.Store({state:{bookmark:null,feeds:[],comments:[],account:null,isLiked:!1,token:null,isLoggedIn:!1,userInfo:null,myPosts:[],email:null,question:"",answer:[],qna_count:1,dictMBTI:{E:0,I:0,S:0,N:0,T:0,F:0,P:0,J:0},mbti_result:"",recommend:!1,recommend_comment:"",recommend_cock_id:999,recommend_cock:"",recommend_cock_photo:""},mutations:{SET_FEEDS:function(e,n){e.feeds=n},SET_COMMENTS:function(e,n){e.comments=n},LOGIN:function(e,n){e.isLoggedIn=!0,e.token=n.token,e.userInfo=n.userData},LOGOUT:function(e){e.isLoggedIn=!1,e.token=null,e.userInfo=null,localStorage.removeItem("token"),U.push({name:"Home"})},SET_USER:function(e,n){e.userInfo=n.data},SET_MYPOST:function(e,n){e.myPosts=n.data}},actions:{GET_FEEDS:function(e){var n=this,t=e.commit,r=e.state;return m()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r.token);case 2:a=e.sent,t("SET_FEEDS",a.data);case 4:case"end":return e.stop()}},e,n)}))()},POST_FEED:function(e,n){var t=this,r=e.state,a=e.dispatch;return m()(i.a.mark(function e(){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=new FormData).append("content",n.content),o.append("image",n.image),console.log(n.image),null!==r.token){e.next=8;break}alert("로그인해야합니다."),e.next=12;break;case 8:return e.next=10,E(o,r.token);case 10:201===e.sent.status&&a("GET_FEEDS");case 12:case"end":return e.stop()}},e,t)}))()},GET_COMMENTS:function(e,n){var t=this,r=e.commit;return m()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("https://honsuri-backend.herokuapp.com/post/"+n+"/comment").then(function(e){console.log("https://honsuri-backend.herokuapp.com/post/"+n+"/comment"),r("SET_COMMENTS",e.data)});case 1:case"end":return e.stop()}},e,t)}))()},POST_COMMENT:function(e,n){var t=this,r=e.state,a=e.dispatch;return m()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({content:n.content},r.token,n.id);case 2:201===e.sent.status&&a("GET_COMMENTS",n.id);case 4:case"end":return e.stop()}},e,t)}))()},POST_LOGIN:function(e,n){var t=this,r=e.dispatch;return m()(i.a.mark(function e(){var a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n);case 3:a=e.sent,(o=a.data.token)&&(localStorage.setItem("token",o),r("GET_USER"),U.push({name:"Home"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("아이디와 비밀번호를 확인해주세요."),console.warn(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,8]])}))()},POST_SIGNUP:function(e,n){var t=this;return m()(i.a.mark(function e(){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(n);case 3:r=e.sent,201===r.status&&U.push({name:"SignIn"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},GET_USER:function(e){var n=this,t=e.commit;return m()(i.a.mark(function e(){var r,a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),e.next=3,b(r);case 3:a=e.sent,o=a.data,t("LOGIN",{token:r,userData:o});case 6:case"end":return e.stop()}},e,n)}))()},POST_FINDID:function(e,n){var t=this,r=e.state;return m()(i.a.mark(function e(){var a,o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:a=e.sent,o=a.status,s=a.data,401===o?alert("일치하는 EMAIL이 없습니다."):200===o&&(r.email=s[0]);case 6:case"end":return e.stop()}},e,t)}))()},PATCH_USER:function(e,n){var t=this,r=e.state,a=e.commit;return m()(i.a.mark(function e(){var o,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(n,r.token);case 3:o=e.sent,s=o.status,c=o.data,200===s&&a("SET_USER",{data:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},DELETE_USER:function(e,n){var t=this,r=e.state,a=e.commit;return m()(i.a.mark(function e(){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(n,r.token);case 3:o=e.sent,console.log(o),a("LOGOUT"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},GET_MYPOST:function(e){var n=this,t=e.state,r=e.commit;return m()(i.a.mark(function e(){var a,o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t.token);case 3:a=e.sent,o=a.status,s=a.data,200===o&&r("SET_MYPOST",{data:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0);case 12:case"end":return e.stop()}},e,n,[[0,9]])}))()},FATCH_PASSWORD:function(e,n){var t=this,r=e.state;return m()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n,r.token);case 3:a=e.sent,201===a.status&&U.push({name:"Me"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},POST_LIKE:function(e,n){var t=this,r=e.state;return m()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n,r.token);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:case"end":return e.stop()}},e,t,[[0,5]])}))()}},modules:{}});r.a.use(c.a);var G=function(e,n,t){M.state.token?(alert("이미 로그인 하였습니다."),t("/")):t()},N=function(e,n,t){M.state.token?t():(alert("로그인이 필요합니다."),t("/"))},y=[{path:"/",name:"Home",component:function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"j7e0"))}},{path:"/users/signin",name:"SignIn",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"Q0Xf"))},beforeEnter:G},{path:"/users/signup",name:"SignUp",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"wXmX"))},beforeEnter:G},{path:"/users/signout",name:"SignOut",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"ghQX"))},beforeEnter:N},{path:"/users/findid",name:"FindId",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"LuOl"))},beforeEnter:G},{path:"/feeds",name:"Feeds",component:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"q6hH"))}},{path:"/wishlist",name:"Wishlist",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"XyZh"))}},{path:"/users/me",name:"Me",component:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"CQgi"))},beforeEnter:N},{path:"/users/me/password",name:"Password",component:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"1wXS"))},beforeEnter:N},{path:"/users/post",name:"Post",component:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"kG3d"))},beforeEnter:N},{path:"/conversation",name:"Conversation",component:function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,"iKHg"))}}],U=new c.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:y,scrollBehavior:function(e,n,t){return t||{x:0,y:0}}}),L=t("9yT1"),D=t.n(L);r.a.config.productionTip=!1,r.a.use(D.a),new r.a({router:U,store:M,beforeMount:function(){localStorage.getItem("token")&&this.$store.dispatch("GET_USER")},render:function(e){return e(s)}}).$mount("#app")},n7Ui:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.ef4ddaf14c2cb90e1712.js.map